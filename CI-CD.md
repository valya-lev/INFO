# Что такое CI/CD и какие проблемы он решает?  
Источник: https://stepik.org/course/256064/syllabus  
CI/CD (Continuous Integration/Continuous Delivery) — это **автоматизация всей цепочки** от коммита разработчика до работающего кода на сервере.

CI/CD решает главные боли разработки:  
- **Страх деплоя:** вместо "деплоим раз в месяц и всю ночь чиним" получаем "деплоим 10 раз в день и не боимся ошибаться";
- **Человеческие ошибки:** забыл выполнить миграцию БД, не обновил конфиг, перепутал сервер — с CI/CD такого не будет;
- **Всегда работает**: если тесты прошли в CI/CD пайплайне, значит код рабочий. Точка.

## Что такое Continuous Integration (CI)?  
**Continuous Integration**(непрерывная интеграция) - это фундамент, на котором строится весь современный процесс разработки.  
**Continuous Integration (CI)** — это практика разработки, при которой разработчики **регулярно** (обычно несколько раз в день) интегрируют свой код в общий репозиторий, и **каждая интеграция** автоматически **проверяется** сборкой и тестами.  
То есть **CI — это постоянное объединение кода с автоматической проверкой, что ничего не сломалось.**  

Ключевая идея CI в том, чтобы находить проблемы как можно раньше. Чем раньше найдена ошибка, тем дешевле её исправить. Баг, найденный через 5 минут после написания кода, исправляется за минуты. Баг, найденный через месяц в продакшне, может потребовать дней на исправление.

### Как работает CI: пошаговый разбор  

<img width="945" height="1615" alt="image" src="https://github.com/user-attachments/assets/9e4b04cc-6a95-42c6-80f6-70498b5b0fcd" />

Весь этот процесс занимает обычно 5-15 минут. Разработчик может переключиться на другую задачу, а когда пайплайн* завершится, получит уведомление о результате. Если что-то сломалось, он увидит точную причину — какой тест упал, на какой строке ошибка.

### Основные компоненты CI системы  
CI система состоит из нескольких ключевых элементов, каждый из которых выполняет свою роль.  
- **Триггеры** - CI должна знать, когда запускаться. Обычно это происходит при каждом пуше в репозиторий, но можно настроить более сложные правила. Например, запускать полный набор тестов только для мердж-реквестов, а для обычных коммитов — только быстрые проверки.
- **Окружение выполнения** - Где будут запускаться наши проверки? Это может быть выделенный сервер, облачный раннер, Docker-контейнер или даже ваш локальный компьютер. Главное требование — окружение должно быть чистым и воспроизводимым.
- **Набор проверок** - Это сердце CI. Какие тесты запускать? Какие метрики собирать? Какие стандарты кода проверять? От этого зависит качество вашей CI системы.
- **Система оповещений** - CI бесполезна, если никто не знает о её результатах. Уведомления в чате, на почте, хоть где-то — всё это помогает команде быстро реагировать на проблемы.

### Принципы эффективного CI  
CI — это не просто автоматизация тестов. Это философия разработки, которая требует соблюдения определённых принципов.
- **Частая интеграция** - Разработчики должны пушить код хотя бы раз в день. Чем дольше код живёт в изолированной ветке, тем сложнее будет его интегрировать.
- **Автоматизация всего** - Если что-то можно автоматизировать, это нужно автоматизировать. Сборка, тесты, проверка кода, генерация документации, анализ производительности — всё это должна делать машина, а не человек.
- **Быстрая обратная связь** - CI пайплайн должен выполняться быстро (идеально — 5-10 минут на базовые проверки).

### CI меняет культуру разработки  
Внедрение CI меняет не только технические процессы, но и культуру команды. Появляется ответственность за качество кода. Больше нельзя запушить что попало и надеяться, что никто не заметит — CI заметит и сообщит всем.  
Появляется понятие "зелёной сборки". Если CI горит зелёным — код можно деплоить. Если красным — сначала нужно починить. Это простое правило убирает множество сомнений и споров.

### Реальные метрики эффективности CI  
Как понять, что CI работает эффективно? Есть несколько ключевых метрик, на которые стоит обращать внимание.  
- **Время выполнения пайплайна** - критически важная метрика. Быстрый пайплайн (5-10 минут) позволяет быстро итерироваться. Медленный (30+ минут) тормозит разработку. **Если** пайплайн занимает **больше 15 минут**, стоит задуматься об оптимизации.
- **Частота запусков** - показывает, насколько активно команда использует CI. В хорошей команде **CI запускается десятки раз в день**. Если CI запускается раз в неделю перед релизом — это не continuous integration, а просто автоматизация тестов.
- **Процент успешных сборок** - говорит о качестве кода. В идеале должно быть **85-95% успешных сборок**. Если меньше — разработчики пушат непроверенный код. **Если 100%** — возможно, **тесты недостаточно строгие**.

### Путь к зрелому CI  
CI — это не то, что внедряется за день. Это эволюционный процесс, который проходит через несколько стадий:

<img width="399" height="487" alt="image" src="https://github.com/user-attachments/assets/22eefbf3-75db-4ef3-b97e-158c8ce03d56" />


Большинство команд застревают на уровне 2-3. И это нормально. Даже базовый CI даёт огромный выигрыш.

